function lint(e){return jshint(e.toString(),{browser:!0,undef:!0,unused:!0,immed:!0,eqeqeq:!0,eqnull:!0,noarg:!0,immed:!1,predef:["define","module","exports","Map"]}),jshint.errors.length?jshint.errors.forEach(function(e){console.log(e.line+":"+e.character+" "+e.reason)}):console.log("linted"),!0}function build(e){var n=ugly.minify(e).code,r=["/*!",`\t${pkg.name} ${pkg.version}`,`\tlicense: ${pkg.license}`,`\t${pkg.homepage}`,"*/",""].join("\n");fs.writeFile("dist/"+pkg.name+".js",r+e),fs.writeFile("dist/"+pkg.name+".min.js",r+n),console.log("dist built")}function transform(e){babel.transformFile(e,{plugins:["add-module-exports",["transform-es2015-modules-umd",{strict:!0,noInterop:!0}]],presets:["env"]},function(e,n){if(e)return console.log(e);lint(n.code),build(n.code)})}var pkg=require("./package.json"),fs=require("fs"),ugly=require("uglify-js"),jshint=require("jshint").JSHINT,babel=require("babel-core"),gaze=require("gaze");gaze("src/"+pkg.name+".js",function(){this.on("changed",function(e){transform(e)}),console.log("watching")}),transform("src/"+pkg.name+".js");